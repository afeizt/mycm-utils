!function(e,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports,require("core-js/modules/es.date.to-string.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.regexp.constructor.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.string.search.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.string.match.js"),require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.array.includes.js")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.date.to-string.js","core-js/modules/es.string.replace.js","core-js/modules/es.regexp.exec.js","core-js/modules/es.regexp.constructor.js","core-js/modules/es.regexp.to-string.js","core-js/modules/es.string.split.js","core-js/modules/es.string.search.js","core-js/modules/es.object.to-string.js","core-js/modules/es.string.match.js","core-js/modules/es.array.slice.js","core-js/modules/es.array.includes.js"],s):s((e="undefined"!=typeof globalThis?globalThis:e||self).mycmUtils={})}(this,function(e){"use strict";e.cutHtml=function(e,s,r,t){var o=/<[^<^>^\/]+>/,n=/<\/[^<^>^\/]+>/,i=/<[^<^>]+>/,l="hr,br,img,input,meta".split(",");if("string"!=typeof e)return"";var c=(e=e.replace(/(^\s*)|(\s*$)/g,"").replace(/[\r\n]/g,"")).replace(/<[^<^>]*>/g,""),u=(r?c.replace(/[^\x00-\xff]/g,"**"):c).length;if(!/^\d+$/.test(s)||u<=s)return e;for(var g=e,a=0,d=new Array;i.test(g);){var j=new Object;j.index=a+g.search(i),j.string=g.match(i).toString();var p=g.search(/<[^<^>]+>/)+g.match(/<[^<^>]+>/)[0].length,g=g.substr(p);a+=p,d.push(j)}if(r){for(var f=0,h=0;h<c.length;h++)if(s<=(f+=255<c.charCodeAt(h)?2:1)){g=c.slice(0,h+1);break}}else g=c.substr(0,s);for(var m,x=new Array,f=0;f<d.length;f++){if(g.length<=d[f].index){d=d.slice(0,f);break}g=g.substring(0,d[f].index)+d[f].string+g.substr(d[f].index),o.test(d[f].string.replace(/(\/\/)/g,""))?0<(m=d[f].string.replace(/[<>]/g,"").split(" ")).length&&(m=m[0],l.includes(m)||x.push(m)):n.test(d[f].string)&&(m=d[f].string.replace(/[<\/>]/g,""),0<x.length&&x[x.length-1]===m&&x.pop())}if(0<x.length)for(f=x.length-1;0<=f;f--)g+="";return g+(t||"")},e.cutStr=function(e,s,r){if(e.replace(/[\u4e00-\u9fa5]/g,"**").length<=s)return e;for(var t=0,o="",n=0;n<e.length&&(/[\u4e00-\u9fa5]/.test(e[n])?t+=2:t+=1,!(s<t));n++)o+=e[n];return o+(r||"")},e.dateFormat=function(e,s){var r,t={"M+":(e=new Date(e)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(r in/(y+)/.test(s)&&(s=s.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+r+")").test(s)&&(s=s.replace(RegExp.$1,1==RegExp.$1.length?t[r]:("00"+t[r]).substr((""+t[r]).length)));return s},e.htmlToText=function(e){return"string"!=typeof e?"":(!1===(1<arguments.length&&void 0!==arguments[1]&&arguments[1])?e.replace(/[\r\n]/g,""):e.replace(/\r\n/,"444"),e)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mycm-utils.js.map
